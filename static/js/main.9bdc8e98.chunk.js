(this["webpackJsonppainters-bootcamp"]=this["webpackJsonppainters-bootcamp"]||[]).push([[0],{144:function(e,t,a){e.exports={mainTitle:"Main_mainTitle__1mrwg",Container:"Main_Container__MjhHx"}},244:function(e,t,a){e.exports={Container:"SignInSuccess_Container__3i-34"}},245:function(e,t,a){e.exports=a(485)},250:function(e,t,a){},26:function(e,t,a){e.exports={Label:"NewArticle_Label__DLyLz",FormTitle:"NewArticle_FormTitle__2zcL-",FormGroup:"NewArticle_FormGroup__GcqkW",SectionTitle:"NewArticle_SectionTitle__9fSPK",CardHeader:"NewArticle_CardHeader__hrgm0",ReactQuill:"NewArticle_ReactQuill__3ZurV",ImageUploader:"NewArticle_ImageUploader__3wiLB",FeaturedImg:"NewArticle_FeaturedImg__2d90t",Button:"NewArticle_Button__3_sN1"}},33:function(e,t,a){e.exports={Navbar:"Heading_Navbar__5wbbA",NavbarBrand:"Heading_NavbarBrand__k_NrH",DropdownToggle:"Heading_DropdownToggle__2xX9B",DropdownMenu:"Heading_DropdownMenu__2gqvM",DropdownItem:"Heading_DropdownItem__2sG2J",Button:"Heading_Button__-6b5f",Link:"Heading_Link__1qads"}},39:function(e,t,a){e.exports={Container:"ViewArticle_Container__3kFIu",Article:"ViewArticle_Article__LAvBd",ImageContainer:"ViewArticle_ImageContainer__19MPr",Image:"ViewArticle_Image__3EujB",Title:"ViewArticle_Title__3hRYP",ArticleInfo:"ViewArticle_ArticleInfo__McJIH",Date:"ViewArticle_Date__1lq64",ArticleMain:"ViewArticle_ArticleMain__3kRsv"}},426:function(e,t,a){},485:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(51),c=a.n(i),l=(a(250),a(29)),o=a(41),s=a(72),u=a(98),m=a(32),d=Object(s.b)({firebase:u.firebaseReducer}),p=Object(s.c)(d,{}),h={firebase:m,config:{},dispatch:p.dispatch};a(426);var f=a(20),b=a(21),g=a(23),_=a(22),E=a(11),v=a(492),C=a(493),A=a(494),w=a(495),N=a(496),O=a(497),I=a(506),j=a(507),k=a(508),y=a(498),D=a(237),S=a(486),T=a(487),L=a(488),B=a(489),x=a(490),M=a(491),F=a(54),P=a.n(F);var R=function(e){return r.a.createElement(S.a,{className:P.a.ArticleCard},r.a.createElement(l.b,{to:{pathname:"/article/"+e.data.id,state:{article:e.data}}},r.a.createElement(T.a,{top:!0,width:"100%",src:e.data.featuredImage,alt:"Card Image"})),r.a.createElement(L.a,{className:P.a.CardBody},r.a.createElement(B.a,{className:P.a.CardTitle},r.a.createElement(l.b,{to:{pathname:"/article/"+e.data.id,state:{article:e.data}}},e.data.title)),r.a.createElement(x.a,{className:P.a.CardSubtitle},r.a.createElement(M.a,{className:P.a.ArticleLabel},e.data.categoryLabel),r.a.createElement(M.a,{className:P.a.createDate},function(e){var t=new Date(1e3*e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}(e.data.createDate.seconds)))))};m.initializeApp({apiKey:"AIzaSyCmDAGtap9Sv2GF-7IzCb0Tw3uZwYoYo_M",authDomain:"painters-bootcamp.firebaseapp.com",databaseURL:"https://painters-bootcamp.firebaseio.com",projectId:"painters-bootcamp",storageBucket:"painters-bootcamp.appspot.com",messagingSenderId:"119215133477",appId:"1:119215133477:web:ee717012c322e6715e00cc"}),m.firestore();var H=m,V=a(33),U=a.n(V),q=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.state={isOpen:!1},n}return Object(b.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.auth.isEmpty||H.auth().currentUser.getIdTokenResult().then((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(v.a,{expand:"md",className:U.a.Navbar},r.a.createElement(C.a,{tag:l.b,to:"/",className:U.a.NavbarBrand},"Painter's Bootcamp"),r.a.createElement(A.a,{onClick:this.toggle}),r.a.createElement(w.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(N.a,{className:"mr-auto",navbar:!0},r.a.createElement(O.a,null,r.a.createElement(l.b,{to:"/new-article",className:U.a.Link},"New Article"))),r.a.createElement("div",{style:{color:"#000000"}},this.props.auth.isEmpty?"":this.props.auth.displayName),r.a.createElement(I.a,null,r.a.createElement(j.a,{nav:!0,caret:!0,className:U.a.DropdownToggle},"Options"),r.a.createElement(k.a,{right:!0,className:U.a.DropdownMenu},this.props.auth.isEmpty?r.a.createElement(y.a,{className:U.a.DropdownItem},r.a.createElement(l.b,{to:{pathname:"/login"},className:U.a.Link},"Login")):r.a.createElement(y.a,{className:U.a.DropdownItem},r.a.createElement(D.a,{onClick:function(){return H.auth().signOut()},className:U.a.Button},"Logout"))))))}}]),a}(n.Component),z=Object(o.b)((function(e){var t=e.firebase;return{auth:t.auth,profile:t.profile}}))(q),G=a(30),W=a(499),Y=a(144),J=a.n(Y),Z=H.firestore(),Q=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).getMyArticles=function(){Z.collection("Articles").limit(8).get().then((function(e){if(!e.empty){var t=[];e.forEach((function(e){var a=Object(G.a)({id:e.id},e.data());t.push(a)})),n.setState({articles:t},(function(){n.setState({isLoaded:!0})}))}}))},n.state={isLoaded:!1,articles:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.getMyArticles()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:J.a.mainTitle},"Painter's Bootcamp"),r.a.createElement(W.a,{className:J.a.Container},this.state.isLoaded?this.state.articles.map((function(e,t){return r.a.createElement(R,{key:t,data:e})})):""))}}]),a}(n.Component),K=a(39),X=a.n(K),$=a(145),ee=a.n($),te=H.firestore(),ae=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).getArticleByID=function(e){te.colllection("Articles").doc(e).get().then((function(e){e.exists?n.setState({article:e.data()},(function(){n.setState({isLoaded:!0})})):n.props.history.push({pathname:"/"})}))},n.timeStampToString=function(e){var t=new Date(1e3*e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},n.state={article:{},idLoaded:!1},console.log(n.props),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;"undefined"!==this.props.location.state?this.props.location.state.hasOwnProperty("article")&&this.setState({article:this.props.location.state.article},(function(){e.setState({isLoaded:!0})})):this.getArticleByID(this.props.match.params.id)}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement(W.a,{className:X.a.Container},r.a.createElement("div",{className:X.a.Article},r.a.createElement("div",{className:X.a.ImageContainer},r.a.createElement("img",{className:X.a.Image,src:this.state.article.featuredImage,alt:this.state.article.title}),r.a.createElement("div",{className:X.a.ArticleInfo},r.a.createElement("h1",{className:X.a.Title},ee()(this.state.article.title)),r.a.createElement("div",{className:X.a.Date},this.timeStampToString(this.state.article.lastModified.seconds)))),r.a.createElement("div",{className:X.a.ArticleMain},ee()(this.state.article.content)))):r.a.createElement("div",null,"loading...")}}]),a}(n.Component),ne=Object(E.f)(ae),re=a(55),ie=a.n(re),ce=a(101),le=a(26),oe=a.n(le),se=a(500),ue=a(501),me=a(502),de=a(503),pe=a(504),he=a(505),fe=a(240),be=a.n(fe),ge=(a(473),a(241)),_e=H.firestore(),Ee=H.storage(),ve=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).modules={toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"],["code-block"]]},clipboard:{matchVisual:!1}},n.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","code-block"],n.onChangeArticleTitle=function(e){n.setState({article:Object(G.a)(Object(G.a)({},n.state.article),{},{title:e})})},n.onChangeArticleContent=function(e){n.setState({article:Object(G.a)(Object(G.a)({},n.state.article),{},{content:e})})},n.onChangePublish=function(e){n.setState({article:Object(G.a)(Object(G.a)({},n.state.article),{},{isPublished:"True"===e})})},n.submitArticle=function(){var e=n.state.article;e.createUserID=n.props.auth.uid,_e.collection("Articles").add(e).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},n.uploadImageCallBack=function(e){return new Promise(function(){var t=Object(ce.a)(ie.a.mark((function t(a,n){var r,i;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.target.files[0],i=Object(ge.v4)(),Ee.ref().child("Articles/"+i).put(r).then(function(){var e=Object(ce.a)(ie.a.mark((function e(t){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.ref().child("Articles/"+i).getDownloadURL();case 2:n=e.sent,a({success:!0,data:{link:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},n.state={article:{title:"",content:"",createDate:new Date,hasFeaturedImage:!1,featuredImage:"",isPublished:!1,lastModified:new Date,createUserID:""}},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(W.a,null,r.a.createElement("h2",{className:oe.a.SectionTitle},"New Article"),r.a.createElement(se.a,null,r.a.createElement(ue.a,{xs:12,sm:12,md:8,lg:9,xl:9,className:oe.a.Col},r.a.createElement(me.a,null,r.a.createElement(de.a,{className:oe.a.FormTitle},"Title"),r.a.createElement(pe.a,{type:"text",name:"articleTitle",id:"articleTitle",placeholder:"",onChange:function(t){return e.onChangeArticleTitle(t.target.value)},value:this.state.article.title})),r.a.createElement(me.a,null,r.a.createElement(be.a,{className:oe.a.ReactQuill,ref:function(t){return e.quill=t},value:this.state.article.content,onChange:function(t){return e.onChangeArticleContent(t)},module:this.modules,formats:this.formats}))),r.a.createElement(ue.a,{xs:12,sm:12,md:4,lg:3,xl:3,className:oe.a.Col},r.a.createElement(S.a,null,r.a.createElement(he.a,{className:oe.a.CardHeader},"Article Settings"),r.a.createElement(L.a,null,r.a.createElement(me.a,null,r.a.createElement(de.a,{className:oe.a.Label},"Publish"),r.a.createElement(pe.a,{type:"select",name:"publish",id:"publish",onChange:function(t){return e.onChangePublish(t.target.value)}},r.a.createElement("option",null,"False"),r.a.createElement("option",null,"True"))),r.a.createElement(me.a,null,r.a.createElement(de.a,{className:oe.a.Label},"Featured Image"),r.a.createElement(pe.a,{type:"file",accept:"image/*",className:oe.a.ImageUploader,onChange:function(){var t=Object(ce.a)(ie.a.mark((function t(a){var n;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uploadImageCallBack(a);case 2:(n=t.sent).success&&e.setState({hasFeaturedImage:!0,article:Object(G.a)(Object(G.a)({},e.state.article),{},{featuredImage:n.data.link})});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),this.state.hasFeaturedImage?r.a.createElement("img",{src:this.state.article.featuredImage,className:oe.a.FeaturedImg}):""),r.a.createElement(me.a,null,r.a.createElement(D.a,{className:oe.a.Button,onClick:function(t){return e.submitArticle()}},"Submit")))))))}}]),a}(n.Component),Ce=a(242),Ae=a.n(Ce),we={signInFlow:"popup",signInSuccessUrl:"/sign-in-success",signInOptions:[H.auth.GoogleAuthProvider.PROVIDER_ID]},Ne=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement(W.a,null,r.a.createElement(Ae.a,{uiConfig:we,firebaseAuth:H.auth()}))}}]),a}(n.Component),Oe=Object(o.b)((function(e){var t=e.firebase;return{auth:t.auth,profile:t.profile}}))(Ne),Ie=a(244),je=a.n(Ie),ke=function(e){return r.a.createElement(W.a,{className:je.a.Container},r.a.createElement("h4",null,"Thanks for signing in"))},ye=function(e,t){var a=function(a){Object(g.a)(i,a);var n=Object(_.a)(i);function i(e){var t;return Object(f.a)(this,i),(t=n.call(this,e)).state={isPass:!1},t}return Object(b.a)(i,[{key:"componentWillMount",value:function(){var e=this;t.isEmpty?this.props.history.push("/login"):m.auth().currentUser.getIdTokenResult().then((function(t){"administrator"===t.claims.type?e.setState({isPass:!0}):e.props.history.push("/login")}))}},{key:"render",value:function(){return this.state.isPass?r.a.createElement(e,{location:this.props.location,history:this.props.history,auth:t}):r.a.createElement("div",null,"Checking...")}}]),i}(n.Component);return a},De=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null),this.props.auth.isLoaded?r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",exact:!0,component:Q}),r.a.createElement(E.a,{path:"/login",component:Oe}),r.a.createElement(E.a,{path:"/article/:id",component:ne}),r.a.createElement(E.a,{path:"/new-article",component:ye(ve,this.props.auth)}),r.a.createElement(E.a,{path:"/sign-in-success",component:ke})):"")}}]),a}(n.Component),Se=Object(o.b)((function(e){var t=e.firebase;return{auth:t.auth,profile:t.profile}}))(Object(E.f)(De));var Te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{store:p},r.a.createElement(u.ReactReduxFirebaseProvider,h,r.a.createElement(l.a,{basename:"painters-bootcamp"},r.a.createElement(Se,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(484);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,a){e.exports={ArticleCard:"ArticleCard_ArticleCard__1hN5m",CardImage:"ArticleCard_CardImage__1d0Cx",CardBody:"ArticleCard_CardBody__1I8Bm",CardTitle:"ArticleCard_CardTitle__2BRap",CardSubtitle:"ArticleCard_CardSubtitle__1p0lW",ArticleLabel:"ArticleCard_ArticleLabel__VmZOD",createDate:"ArticleCard_createDate__lZtXk"}}},[[245,1,2]]]);
//# sourceMappingURL=main.9bdc8e98.chunk.js.map