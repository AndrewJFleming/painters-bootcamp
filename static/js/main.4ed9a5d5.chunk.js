(this["webpackJsonppainters-bootcamp"]=this["webpackJsonppainters-bootcamp"]||[]).push([[0],{144:function(e,t,a){e.exports={mainTitle:"Main_mainTitle__1mrwg",Container:"Main_Container__MjhHx"}},244:function(e,t,a){e.exports=a(484)},249:function(e,t,a){},26:function(e,t,a){e.exports={Label:"NewArticle_Label__DLyLz",FormTitle:"NewArticle_FormTitle__2zcL-",FormGroup:"NewArticle_FormGroup__GcqkW",SectionTitle:"NewArticle_SectionTitle__9fSPK",CardHeader:"NewArticle_CardHeader__hrgm0",ReactQuill:"NewArticle_ReactQuill__3ZurV",ImageUploader:"NewArticle_ImageUploader__3wiLB",FeaturedImg:"NewArticle_FeaturedImg__2d90t",Button:"NewArticle_Button__3_sN1"}},32:function(e,t,a){e.exports={Navbar:"Heading_Navbar__5wbbA",NavbarBrand:"Heading_NavbarBrand__k_NrH",DropdownToggle:"Heading_DropdownToggle__2xX9B",DropdownMenu:"Heading_DropdownMenu__2gqvM",DropdownItem:"Heading_DropdownItem__2sG2J",Button:"Heading_Button__-6b5f",Link:"Heading_Link__1qads"}},39:function(e,t,a){e.exports={Container:"ViewArticle_Container__3kFIu",Article:"ViewArticle_Article__LAvBd",ImageContainer:"ViewArticle_ImageContainer__19MPr",Image:"ViewArticle_Image__3EujB",Title:"ViewArticle_Title__3hRYP",ArticleInfo:"ViewArticle_ArticleInfo__McJIH",Date:"ViewArticle_Date__1lq64",ArticleMain:"ViewArticle_ArticleMain__3kRsv"}},425:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),c=a.n(i),l=(a(249),a(37)),o=a(41),s=a(72),u=a(98),m=a(31),d=Object(s.b)({firebase:u.firebaseReducer}),p=Object(s.c)(d,{}),h={firebase:m,config:{},dispatch:p.dispatch};a(425);var f=a(20),b=a(21),g=a(23),_=a(22),E=a(12),v=a(491),A=a(492),C=a(493),w=a(494),N=a(495),O=a(496),I=a(497),j=a(506),k=a(507),y=a(508),D=a(498),S=a(237),T=a(485),L=a(486),B=a(487),x=a(488),M=a(489),F=a(490),P=a(53),R=a.n(P);var H=function(e){return r.a.createElement(T.a,{className:R.a.ArticleCard},r.a.createElement(l.b,{to:{pathname:"/article/"+e.data.id,state:{article:e.data}}},r.a.createElement(L.a,{top:!0,width:"100%",src:e.data.featuredImage,alt:"Card Image"})),r.a.createElement(B.a,{className:R.a.CardBody},r.a.createElement(x.a,{className:R.a.CardTitle},r.a.createElement(l.b,{to:{pathname:"/article/"+e.data.id,state:{article:e.data}}},e.data.title)),r.a.createElement(M.a,{className:R.a.CardSubtitle},r.a.createElement(F.a,{className:R.a.ArticleLabel},e.data.categoryLabel),r.a.createElement(F.a,{className:R.a.createDate},function(e){var t=new Date(1e3*e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}(e.data.createDate.seconds)))))};m.initializeApp({apiKey:"AIzaSyCmDAGtap9Sv2GF-7IzCb0Tw3uZwYoYo_M",authDomain:"painters-bootcamp.firebaseapp.com",databaseURL:"https://painters-bootcamp.firebaseio.com",projectId:"painters-bootcamp",storageBucket:"painters-bootcamp.appspot.com",messagingSenderId:"119215133477",appId:"1:119215133477:web:ee717012c322e6715e00cc"}),m.firestore();var V=m,U=a(32),q=a.n(U),z=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.state={isOpen:!1},n}return Object(b.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.auth.isEmpty||V.auth().currentUser.getIdTokenResult().then((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(v.a,{expand:"md",className:q.a.Navbar},r.a.createElement(A.a,{href:"/",className:q.a.NavbarBrand},"Painter's Bootcamp"),r.a.createElement(C.a,{onClick:this.toggle}),r.a.createElement(w.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(N.a,{className:"mr-auto",navbar:!0},r.a.createElement(O.a,null,r.a.createElement(I.a,{href:"/new-article",className:q.a.NavLink},"New Article"))),r.a.createElement("div",{style:{color:"#000000"}},this.props.auth.isEmpty?"":this.props.auth.displayName),r.a.createElement(j.a,null,r.a.createElement(k.a,{nav:!0,caret:!0,className:q.a.DropdownToggle},"Options"),r.a.createElement(y.a,{right:!0,className:q.a.DropdownMenu},this.props.auth.isEmpty?r.a.createElement(D.a,{className:q.a.DropdownItem},r.a.createElement(l.b,{to:{pathname:"/login"},className:q.a.Link},"Login")):r.a.createElement(D.a,{className:q.a.DropdownItem},r.a.createElement(S.a,{onClick:function(){return V.auth().signOut()},className:q.a.Button},"Logout"))))))}}]),a}(n.Component),G=Object(o.b)((function(e){var t=e.firebase;return{auth:t.auth,profile:t.profile}}))(z),W=a(29),Y=a(499),J=a(144),Z=a.n(J),Q=V.firestore(),K=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).getMyArticles=function(){Q.collection("Articles").limit(8).get().then((function(e){if(!e.empty){var t=[];e.forEach((function(e){var a=Object(W.a)({id:e.id},e.data());t.push(a)})),n.setState({articles:t},(function(){n.setState({isLoaded:!0})}))}}))},n.state={isLoaded:!1,articles:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.getMyArticles()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:Z.a.mainTitle},"Painter's Bootcamp"),r.a.createElement(Y.a,{className:Z.a.Container},this.state.isLoaded?this.state.articles.map((function(e,t){return r.a.createElement(H,{key:t,data:e})})):""))}}]),a}(n.Component),X=a(39),$=a.n(X),ee=a(145),te=a.n(ee),ae=V.firestore(),ne=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).getArticleByID=function(e){ae.colllection("Articles").doc(e).get().then((function(e){e.exists?n.setState({article:e.data()},(function(){n.setState({isLoaded:!0})})):n.props.history.push({pathname:"/"})}))},n.timeStampToString=function(e){var t=new Date(1e3*e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},n.state={article:{},idLoaded:!1},console.log(n.props),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;"undefined"!==this.props.location.state?this.props.location.state.hasOwnProperty("article")&&this.setState({article:this.props.location.state.article},(function(){e.setState({isLoaded:!0})})):this.getArticleByID(this.props.match.params.id)}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement(Y.a,{className:$.a.Container},r.a.createElement("div",{className:$.a.Article},r.a.createElement("div",{className:$.a.ImageContainer},r.a.createElement("img",{className:$.a.Image,src:this.state.article.featuredImage,alt:this.state.article.title}),r.a.createElement("div",{className:$.a.ArticleInfo},r.a.createElement("h1",{className:$.a.Title},te()(this.state.article.title)),r.a.createElement("div",{className:$.a.Date},this.timeStampToString(this.state.article.lastModified.seconds)))),r.a.createElement("div",{className:$.a.ArticleMain},te()(this.state.article.content)))):r.a.createElement("div",null,"loading...")}}]),a}(n.Component),re=Object(E.f)(ne),ie=a(54),ce=a.n(ie),le=a(101),oe=a(26),se=a.n(oe),ue=a(500),me=a(501),de=a(502),pe=a(503),he=a(504),fe=a(505),be=a(240),ge=a.n(be),_e=(a(472),a(241)),Ee=V.firestore(),ve=V.storage(),Ae=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).modules={toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"],["code-block"]]},clipboard:{matchVisual:!1}},n.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","code-block"],n.onChangeArticleTitle=function(e){n.setState({article:Object(W.a)(Object(W.a)({},n.state.article),{},{title:e})})},n.onChangeArticleContent=function(e){n.setState({article:Object(W.a)(Object(W.a)({},n.state.article),{},{content:e})})},n.onChangePublish=function(e){n.setState({article:Object(W.a)(Object(W.a)({},n.state.article),{},{isPublished:"True"===e})})},n.submitArticle=function(){var e=n.state.article;e.createUserID=n.props.auth.uid,Ee.collection("Articles").add(e).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},n.uploadImageCallBack=function(e){return new Promise(function(){var t=Object(le.a)(ce.a.mark((function t(a,n){var r,i;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.target.files[0],i=Object(_e.v4)(),ve.ref().child("Articles/"+i).put(r).then(function(){var e=Object(le.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.ref().child("Articles/"+i).getDownloadURL();case 2:n=e.sent,a({success:!0,data:{link:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},n.state={article:{title:"",content:"",createDate:new Date,hasFeaturedImage:!1,featuredImage:"",isPublished:!1,lastModified:new Date,createUserID:""}},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Y.a,null,r.a.createElement("h2",{className:se.a.SectionTitle},"New Article"),r.a.createElement(ue.a,null,r.a.createElement(me.a,{xs:12,sm:12,md:8,lg:9,xl:9,className:se.a.Col},r.a.createElement(de.a,null,r.a.createElement(pe.a,{className:se.a.FormTitle},"Title"),r.a.createElement(he.a,{type:"text",name:"articleTitle",id:"articleTitle",placeholder:"",onChange:function(t){return e.onChangeArticleTitle(t.target.value)},value:this.state.article.title})),r.a.createElement(de.a,null,r.a.createElement(ge.a,{className:se.a.ReactQuill,ref:function(t){return e.quill=t},value:this.state.article.content,onChange:function(t){return e.onChangeArticleContent(t)},module:this.modules,formats:this.formats}))),r.a.createElement(me.a,{xs:12,sm:12,md:4,lg:3,xl:3,className:se.a.Col},r.a.createElement(T.a,null,r.a.createElement(fe.a,{className:se.a.CardHeader},"Article Settings"),r.a.createElement(B.a,null,r.a.createElement(de.a,null,r.a.createElement(pe.a,{className:se.a.Label},"Publish"),r.a.createElement(he.a,{type:"select",name:"publish",id:"publish",onChange:function(t){return e.onChangePublish(t.target.value)}},r.a.createElement("option",null,"False"),r.a.createElement("option",null,"True"))),r.a.createElement(de.a,null,r.a.createElement(pe.a,{className:se.a.Label},"Featured Image"),r.a.createElement(he.a,{type:"file",accept:"image/*",className:se.a.ImageUploader,onChange:function(){var t=Object(le.a)(ce.a.mark((function t(a){var n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uploadImageCallBack(a);case 2:(n=t.sent).success&&e.setState({hasFeaturedImage:!0,article:Object(W.a)(Object(W.a)({},e.state.article),{},{featuredImage:n.data.link})});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),this.state.hasFeaturedImage?r.a.createElement("img",{src:this.state.article.featuredImage,className:se.a.FeaturedImg}):""),r.a.createElement(de.a,null,r.a.createElement(S.a,{className:se.a.Button,onClick:function(t){return e.submitArticle()}},"Submit")))))))}}]),a}(n.Component),Ce=a(242),we=a.n(Ce),Ne={signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[V.auth.GoogleAuthProvider.PROVIDER_ID]},Oe=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement(Y.a,null,r.a.createElement(we.a,{uiConfig:Ne,firebaseAuth:V.auth()}))}}]),a}(n.Component),Ie=Object(o.b)((function(e){var t=e.firebase;return{auth:t.auth,profile:t.profile}}))(Oe),je=function(e,t){var a=function(a){Object(g.a)(i,a);var n=Object(_.a)(i);function i(e){var t;return Object(f.a)(this,i),(t=n.call(this,e)).state={isPass:!1},t}return Object(b.a)(i,[{key:"componentWillMount",value:function(){var e=this;t.isEmpty?this.props.history.push("/login"):m.auth().currentUser.getIdTokenResult().then((function(t){"administrator"===t.claims.type?e.setState({isPass:!0}):e.props.history.push("/login")}))}},{key:"render",value:function(){return this.state.isPass?r.a.createElement(e,{location:this.props.location,history:this.props.history,auth:t}):r.a.createElement("div",null,"Checking...")}}]),i}(n.Component);return a},ke=function(e){Object(g.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(G,null),this.props.auth.isLoaded?r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",exact:!0},r.a.createElement(K,null)),r.a.createElement(E.a,{path:"/login"},r.a.createElement(Ie,null)),r.a.createElement(E.a,{path:"/article/:id"},r.a.createElement(re,null)),r.a.createElement(E.a,{path:"/new-article",component:je(Ae,this.props.auth)})):"")}}]),a}(n.Component),ye=Object(o.b)((function(e){var t=e.firebase;return{auth:t.auth,profile:t.profile}}))(Object(E.f)(ke));var De=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{store:p},r.a.createElement(u.ReactReduxFirebaseProvider,h,r.a.createElement(l.a,null,r.a.createElement(ye,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(483);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports={ArticleCard:"ArticleCard_ArticleCard__1hN5m",CardImage:"ArticleCard_CardImage__1d0Cx",CardBody:"ArticleCard_CardBody__1I8Bm",CardTitle:"ArticleCard_CardTitle__2BRap",CardSubtitle:"ArticleCard_CardSubtitle__1p0lW",ArticleLabel:"ArticleCard_ArticleLabel__VmZOD",createDate:"ArticleCard_createDate__lZtXk"}}},[[244,1,2]]]);
//# sourceMappingURL=main.4ed9a5d5.chunk.js.map